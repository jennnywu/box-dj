/**************************************************************************************************/
/**
 * @file motors.h
 * @author Ryan Jing (r5jing@uwaterloo.ca)
 * @brief Motor control functions and definitions
 *
 * @version 0.1
 * @date 2025-11-07
 *
 * @copyright Copyright (c) 2025
 *
 */
/**************************************************************************************************/

#ifndef MOTORS_H
#define MOTORS_H

/*------------------------------------------------------------------------------------------------*/
// HEADERS                                                                                        */
/*------------------------------------------------------------------------------------------------*/

#include <stdio.h>
#include "esp_err.h"

/*------------------------------------------------------------------------------------------------*/
// GLOBAL VARIABLES                                                                               */
/*------------------------------------------------------------------------------------------------*/



/*------------------------------------------------------------------------------------------------*/
// CLASS DECLARATIONS                                                                             */
/*------------------------------------------------------------------------------------------------*/



/*------------------------------------------------------------------------------------------------*/
// FUNCTION DECLARATIONS                                                                          */
/*------------------------------------------------------------------------------------------------*/

// Motor direction enum
typedef enum {
    MOTOR_FORWARD = 0,
    MOTOR_BACKWARD = 1,
    MOTOR_STOP = 2
} motor_direction_t;

/**************************************************************************************************/
/**
 * @brief Initialize both motors (GPIO and PWM)
 * @return esp_err_t ESP_OK on success
 */
/**************************************************************************************************/
esp_err_t motors_init(void);

/**************************************************************************************************/
/**
 * @brief Set both motors to the same speed and direction
 * @param speed Motor speed (0-255)
 * @param direction Motor direction (MOTOR_FORWARD, MOTOR_BACKWARD, MOTOR_STOP)
 * @return esp_err_t ESP_OK on success
 */
/**************************************************************************************************/
esp_err_t motors_set(uint8_t speed, motor_direction_t direction);

/**************************************************************************************************/
/**
 * @brief Move both motors forward at specified speed
 * @param speed Motor speed (0-255)
 * @return esp_err_t ESP_OK on success
 */
/**************************************************************************************************/
esp_err_t motors_forward(uint8_t speed);

/**************************************************************************************************/
/**
 * @brief Move both motors backward at specified speed
 * @param speed Motor speed (0-255)
 * @return esp_err_t ESP_OK on success
 */
/**************************************************************************************************/
esp_err_t motors_backward(uint8_t speed);

/**************************************************************************************************/
/**
 * @brief Stop both motors
 * @return esp_err_t ESP_OK on success
 */
/**************************************************************************************************/
esp_err_t motors_stop(void);

#endif // MOTORS_H